<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Мета-теги для корректного отображения и кодировки -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Детский центр робототехники и программирования в г. Лида">
    
    <!-- Динамический заголовок страницы -->
    <title>{% block title %}{% endblock %}</title>
    
    <!-- Загрузка статических файлов и виджетов Django -->
    {% load static %}
    {% load widget_tweaks %}
    
    <!-- Подключение модального окна регистрации -->
    {% include "main/signup_modal.html" %}
    
    <!-- ===== ПОДКЛЮЧЕНИЕ ВНЕШНИХ БИБЛИОТЕК ===== -->
    
    <!-- Bootstrap 5.1.3 - основная CSS и JS библиотека -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Font Awesome 6.5.0 - иконки -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Google Fonts - шрифт Poppins для заголовков -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&display=swap" rel="stylesheet">

    <!-- Bootstrap Icons 1.10.5 - дополнительные иконки -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Google Fonts - шрифт Nunito для основного текста -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@500;700&display=swap" rel="stylesheet">

    <!-- Пользовательские стили -->
    <link rel="stylesheet" href="{% static 'main/css/main.css' %}">

</head>

<!-- ===== ВСТРОЕННЫЕ СТИЛИ CSS ===== -->
<style>
    /* ===== ОСНОВНЫЕ СТИЛИ ДЛЯ НАВИГАЦИОННОЙ ПАНЕЛИ ===== */
    
    /* Создание градиентного фона для шапки сайта с эффектом глубины */
    .custom-header {
        background: linear-gradient(135deg, #0d9488 0%, #0f766e 50%, #134e4a 100%) !important;
        border-bottom: 3px solid #CC5500; /* Оранжевая полоса для акцента */
        box-shadow: 0 4px 15px rgba(13, 148, 136, 0.3); /* Тень для объемности */
    }

    /* ===== СТИЛИ ДЛЯ ССЫЛОК В НАВИГАЦИИ ===== */
    
    /* Базовые стили для всех навигационных ссылок */
    .nav-link-custom {
        position: relative;
        color: #ffffff !important; /* Белый текст для контраста */
        text-decoration: none;
        font-size: 1.1rem;
        font-weight: 600;
        font-family: 'Nunito', sans-serif; /* Современный шрифт */
        padding: 8px 16px;
        margin: 0 5px;
        border-radius: 8px; /* Скругленные углы */
        display: inline-block;
        transition: all 0.3s ease; /* Плавная анимация при изменениях */
        background: rgba(255, 255, 255, 0.1); /* Полупрозрачный фон */
        backdrop-filter: blur(10px); /* Эффект размытия фона */
    }

    /* ===== ЭФФЕКТЫ ПРИ НАВЕДЕНИИ НА ССЫЛКИ ===== */
    
    /* Анимация при наведении курсора на навигационные ссылки */
    .nav-link-custom:hover,
    .nav-link-custom:focus {
        color: #ffffff !important;
        background: rgba(204, 85, 0, 0.8); /* Оранжевый фон при наведении */
        transform: translateY(-2px); /* Подъем элемента на 2px */
        box-shadow: 0 4px 12px rgba(204, 85, 0, 0.4); /* Тень с оранжевым оттенком */
    }

    /* ===== СТИЛИ ДЛЯ АКТИВНОЙ ССЫЛКИ ===== */
    
    /* Визуальное выделение текущей страницы в навигации */
    .nav-link-custom.active {
        background: rgba(204, 85, 0, 0.9); /* Более насыщенный оранжевый фон */
        color: #ffffff !important;
        box-shadow: 0 4px 12px rgba(204, 85, 0, 0.5); /* Усиленная тень */
    }

    /* ===== СТИЛИ ДЛЯ ВЫПАДАЮЩЕГО МЕНЮ ===== */
    
    /* Контейнер для выпадающего меню с относительным позиционированием */
    .dropdown-hover {
        position: relative;
    }

    /* Стили для самого выпадающего меню */
    .dropdown-menu-custom {
        display: none; /* Скрыто по умолчанию */
        position: absolute;
        top: 100%; /* Позиционирование под родительским элементом */
        left: 0;
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%); /* Градиентный фон */
        border: 2px solid #0d9488; /* Рамка в цвете темы */
        border-radius: 12px; /* Скругленные углы */
        min-width: 250px;
        z-index: 1000; /* Высокий z-index для отображения поверх других элементов */
        padding: 8px 0;
        box-shadow: 0 8px 25px rgba(13, 148, 136, 0.2); /* Тень */
        backdrop-filter: blur(10px); /* Эффект размытия */
    }

    /* Показ меню при наведении на родительский элемент */
    .dropdown-hover:hover .dropdown-menu-custom {
        display: block;
        animation: fadeInDown 0.3s ease; /* Анимация появления */
    }

    /* ===== АНИМАЦИЯ ПОЯВЛЕНИЯ МЕНЮ ===== */
    
    /* Ключевые кадры для плавного появления выпадающего меню */
    @keyframes fadeInDown {
        from {
            opacity: 0; /* Полностью прозрачно */
            transform: translateY(-10px); /* Смещено вверх */
        }
        to {
            opacity: 1; /* Полностью видимо */
            transform: translateY(0); /* В нормальной позиции */
        }
    }

    /* ===== СТИЛИ ДЛЯ ЭЛЕМЕНТОВ ВЫПАДАЮЩЕГО МЕНЮ ===== */
    
    /* Базовые стили для пунктов выпадающего меню */
    .dropdown-item {
        padding: 12px 20px;
        color: #0d9488; /* Цвет текста в стиле темы */
        text-decoration: none;
        white-space: nowrap; /* Запрет переноса текста */
        transition: all 0.3s ease; /* Плавная анимация */
        font-weight: 500;
        border-radius: 8px;
        margin: 2px 8px;
    }

    /* Эффект при наведении на пункты меню */
    .dropdown-item:hover {
        background: linear-gradient(135deg, #0d9488 0%, #0f766e 100%); /* Градиентный фон */
        color: #ffffff; /* Белый текст */
        transform: translateX(5px); /* Смещение вправо */
        box-shadow: 0 4px 12px rgba(13, 148, 136, 0.3); /* Тень */
    }

    /* ===== СТИЛИ ДЛЯ КНОПОК АВТОРИЗАЦИИ ===== */
    
    /* Контейнер для кнопок входа/выхода */
    .auth-wrapper {
        text-align: right;
        margin-right: 20px;
        font-family: 'Nunito', sans-serif;
        font-size: 16px;
    }

    /* Стили для ссылок авторизации */
    .auth-link {
        font-weight: 600;
        text-decoration: none;
        padding: 8px 16px;
        border-radius: 8px;
        transition: all 0.3s ease;
        display: inline-block;
        background: rgba(255, 255, 255, 0.1);
        /* Полупрозрачный фон */
        backdrop-filter: blur(10px);
        /* Эффект размытия */
    }

    /* Эффект при наведении на ссылки авторизации */
    .auth-link:hover {
        transform: scale(1.05);
        /* Увеличение размера */
        box-shadow: 0 4px 12px rgba(255, 255, 255, 0.2);
        /* Тень */
        text-decoration: none;
    }

    /* ===== СТИЛИ ДЛЯ КНОПКИ "ЗАПИСАТЬСЯ" ===== */
    /* Основные стили для кнопки записи на курсы */
    .custom-btn {
        background: linear-gradient(135deg, #CC5500 0%, #e67e22 100%) !important;
        /* Оранжевый градиент */
        border: none;
        padding: 10px 20px;
        border-radius: 10px;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(204, 85, 0, 0.3);
        /* Тень */
    }

    /* Эффект при наведении на кнопку */
    .custom-btn:hover {
        transform: translateY(-2px);
        /* Подъем кнопки */
        box-shadow: 0 6px 20px rgba(204, 85, 0, 0.4);
        /* Усиленная тень */
        background: linear-gradient(135deg, #e67e22 0%, #CC5500 100%) !important;
        /* Инвертированный градиент */
    }

    /* ===== СТИЛИ ДЛЯ ЛОГОТИПА ===== */
    /* Базовые стили для ссылки логотипа */
    .logo-link {
        transition: all 0.3s ease;
        /* Плавная анимация */
    }

    /* Эффект при наведении на логотип */
    .logo-link:hover {
        transform: scale(1.05);
        /* Увеличение размера */
    }

    /* ===== АДАПТИВНЫЕ СТИЛИ ===== */
    /* Стили для мобильных устройств и планшетов */
    @media (max-width: 768px) {

        /* Уменьшение размера шрифта и отступов для навигационных ссылок */
        .nav-link-custom {
            font-size: 1rem;
            padding: 6px 12px;
            margin: 0 2px;
        }

        /* Корректировка отступов для блока авторизации */
        .auth-wrapper {
            margin-right: 10px;
            font-size: 14px;
        }
    }



/* Стили для ссылок в футере */             
    .footer-link:hover {
        color: #ff9500 !important;
        transform: translateX(5px);
        text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
            
    .social-link:hover {
        transform: scale(1.2);
        filter: brightness(1.2);
    }
    
    .footer a:hover {
        color: #ff9500 !important;
    }
</style>

{% block css %}{% endblock %}

<body>

<!-- Шапка сайта -->
    <header class="fixed-top custom-header">
        <div class="container-fluid py-3">
            <div class="row align-items-center">
                <!-- Логотип -->
                <div class="col-auto">
                    <a href="/" class="logo-link ms-3" id="home-link">
                        <img src="{% static 'main/img/logo.jpg' %}" alt="Logo"
                            style="height: 60px; border-radius: 8px;">
                    </a>
                </div>

                <!-- Навигационное меню по центру -->
                <div class="col d-flex justify-content-center">
                    <nav class="d-flex gap-4 mt-2 align-items-center position-relative">
                        <!-- Ссылка на страницу "О клубе" - статическая страница с информацией о клубе -->
                        <a href="/about" class="nav-link-custom">О КЛУБЕ</a>

                        <!-- Обёртка для выпадающего меню курсов -->
                        <div class="dropdown-hover">
                            <!-- Основная ссылка на секцию курсов на главной странице -->
                            <a href="{% url 'index' %}#courses" class="nav-link-custom">НАШИ КУРСЫ</a>
                            <!-- Выпадающее меню с возрастными группами курсов -->
                            <ul class="dropdown-menu-custom">
                                <!-- Ссылки на страницы курсов по возрастным группам -->
                                <li><a class="dropdown-item" href="/courses_2_4">Для детей 2,5-4 года</a></li>
                                <li><a class="dropdown-item" href="/courses_4_6">Для детей 4-6 лет</a></li>
                                <li><a class="dropdown-item" href="/courses_6_7">Для детей 6-7 лет</a></li>
                                <li><a class="dropdown-item" href="/courses_7_9">Для детей 7-9 лет</a></li>
                                <li><a class="dropdown-item" href="/courses_9_11">Для детей 9-11 лет</a></li>
                                <li><a class="dropdown-item" href="/courses_11_13">Для детей 11-13 лет</a></li>
                                <li><a class="dropdown-item" href="/courses_13_16">Для детей 13-16 лет</a></li>
                            </ul>
                        </div>
                        <!-- Ссылка на страницу контактов (пока заглушка) -->
                        <a href="#" class="nav-link-custom">КОНТАКТЫ</a>
                        <!-- Условная ссылка на форум: для авторизованных пользователей - доступ к форуму, для неавторизованных - страница входа -->
                        {% if user.is_authenticated %}
                        <a href="/forum_list/" class="nav-link-custom">ФОРУМ</a>
                        {% else %}
                        <a href="/login/" class="nav-link-custom">ФОРУМ</a>
                        {% endif %}
                    </nav>
                </div>

                <!-- Блок "Войти / Выйти" -->
                <div class="col-auto">
                    <div class="auth-wrapper">
                        {% if user.is_authenticated %}
                        <a href="{% url 'logout' %}" class="auth-link text-danger">
                            <i class="fas fa-sign-out-alt me-1"></i> Выйти
                        </a>
                        {% else %}
                        <a href="{% url 'login' %}" class="auth-link text-success">
                            <i class="fas fa-sign-in-alt me-1"></i> Войти
                        </a>
                        {% endif %}
                    </div>
                </div>

                <!-- Кнопка "Записаться" -->
                <div class="col-auto">
                    <button type="button" class="btn custom-btn text-white me-3" data-bs-toggle="modal"
                        data-bs-target="#signupModal">
                        <i class="bi bi-pencil-square me-1"></i> Записаться
                    </button>
                </div>
            </div>
        </div>
    </header>

<!-- Пустое пространство для отступа от шапки -->
    <div style="height: 70px;"></div>

<!-- Скрипт для фиксирования подчеркивания кнопки в шапке при переходе по ссылкам -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const links = document.querySelectorAll('.nav-link-custom');
            links.forEach(link => {
                if (link.href === window.location.href || window.location.href.includes(link.getAttribute("href"))) {
                    link.classList.add('active');
                }
            });
        });
    </script>
    {% block content %}{% endblock %}

<!-- Футер сайта -->
<footer class="footer mt-5 py-5 text-white" style="background: linear-gradient(135deg, #0d9488 0%, #0f766e 50%, #134e4a 100%); border-top: 3px solid #CC5500;">
    <div class="container">
        <div class="row justify-content-center text-center text-md-start">
            <!-- ЛОГО И ОПИСАНИЕ -->
            <div class="col-12 col-md-4 mb-4 mb-md-0 d-flex flex-column align-items-center align-items-md-start">
                <a href="/" class="text-decoration-none">
                    <img src="{% static 'main/img/logo.jpg' %}" alt="Logo" style="height: 80px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);" class="mb-3">
                </a>
                <p class="text-white-50 fw-light" style="font-size: 0.95rem;">Детский центр робототехники и программирования <br> г. Лида</p>
            </div>

            <!-- НАВИГАЦИЯ -->
            <div class="col-12 col-md-4 mb-4 mb-md-0">
                <h6 class="text-white fw-bold mb-4" style="font-size: 1.1rem; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">
                    <i class="bi bi-compass me-2"></i>Навигация
                </h6>
                <ul class="list-unstyled d-flex flex-column align-items-center align-items-md-start">
                    <li class="mb-2">
                        <a href="/about" class="text-white-50 text-decoration-none fw-light footer-link" style="transition: all 0.3s ease;">
                            <i class="bi bi-info-circle me-2" style="color: #ff6a00;"></i>Об IT клубе
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="{% url 'index' %}#courses" class="text-white-50 text-decoration-none fw-light footer-link" style="transition: all 0.3s ease;">
                            <i class="bi bi-journal-code me-2" style="color: #ff6a00;"></i>Наши курсы
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="/" class="text-white-50 text-decoration-none fw-light footer-link" style="transition: all 0.3s ease;">
                            <i class="bi bi-laptop me-2" style="color: #ff6a00;"></i>Курсы онлайн
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="/" class="text-white-50 text-decoration-none fw-light footer-link" style="transition: all 0.3s ease;">
                            <i class="bi bi-lightbulb me-2" style="color: #ff6a00;"></i>Мастер-классы
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="/" class="text-white-50 text-decoration-none fw-light footer-link" style="transition: all 0.3s ease;">
                            <i class="bi bi-file-earmark-text me-2" style="color: #ff6a00;"></i>Договор
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="{% static 'main/pdf/pravila-bezopasnosti.pdf' %}" class="text-white-50 text-decoration-none fw-light footer-link" target="_blank" style="transition: all 0.3s ease;">
                            <i class="bi bi-shield-lock me-2" style="color: #ff6a00;"></i>Правила безопасности
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="/" class="text-white-50 text-decoration-none fw-light footer-link" style="transition: all 0.3s ease;">
                            <i class="bi bi-lock me-2" style="color: #ff6a00;"></i>Политика конфиденциальности
                        </a>
                    </li>
                </ul>
            </div>

            <!-- КОНТАКТЫ И СОЦСЕТИ -->
            <div class="col-12 col-md-4 d-flex flex-column align-items-center align-items-md-start">
                <h6 class="text-white fw-bold mb-4" style="font-size: 1.1rem; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">
                    <i class="bi bi-envelope me-2"></i>Контакты
                </h6>
                <p class="text-white-50 fw-light mb-3" style="font-size: 0.9rem;">&copy; 2025 Робототехника. Все права защищены.</p>
                <div class="contact-info mb-4">
                    <p class="text-white-50 fw-light mb-2" style="font-size: 0.9rem;">
                        <i class="bi bi-envelope me-2" style="color: #ff6a00;"></i>
                        <a href="mailto:skrip8078@gmail.com" class="text-decoration-none text-white-50" style="transition: all 0.3s ease;">skrip8078@gmail.com</a>
                    </p>
                    <p class="text-white-50 fw-light mb-2" style="font-size: 0.9rem;">
                        <i class="bi bi-telephone me-2" style="color: #ff6a00;"></i>
                        <a href="tel:+375291210908" class="text-decoration-none text-white-50" style="transition: all 0.3s ease;">+375 (29) 121-09-08</a>
                    </p>
                    <p class="text-white-50 fw-light mb-3" style="font-size: 0.9rem;">
                        <i class="bi bi-geo-alt me-2" style="color: #ff6a00;"></i>Беларусь, г. Лида, ул. Замковая, д. 4
                    </p>
                </div>
                <div class="social-icons">
                    <a href="https://www.instagram.com/robototehnika_lida/" target="_blank" class="text-decoration-none me-3 social-link" title="Instagram" style="transition: all 0.3s ease;">
                        <i class="bi bi-instagram" style="font-size: 32px; color: #ff6a00; text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
                    </a>
                    <a href="tg://msg?to=%2B375291210908" class="text-decoration-none social-link" title="Telegram" style="transition: all 0.3s ease;">
                        <i class="bi bi-telegram" style="font-size: 32px; color: #ff6a00; text-shadow: 0 2px 4px rgba(0,0,0,0.3);"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</footer>

<style>
    
</style>

<!-- Скрипт для управления активным состоянием навигационных ссылок -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Получаем все навигационные ссылки и ссылку на главную страницу
        const navLinks = document.querySelectorAll('.nav-link-custom');
        const homeLink = document.getElementById('home-link');

        // Добавляем обработчик клика для каждой навигационной ссылки
        navLinks.forEach(link => {
            link.addEventListener('click', function () {
                // Убираем класс 'active' со всех ссылок
                navLinks.forEach(l => l.classList.remove('active'));
                // Добавляем класс 'active' к кликнутой ссылке
                this.classList.add('active');
            });
        });

        // Обработчик для ссылки на главную страницу
        homeLink.addEventListener('click', function () {
            // Убираем активное состояние со всех навигационных ссылок
            navLinks.forEach(l => l.classList.remove('active'));
        });
    });
</script>

</body>

</html>